{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\pedro\\\\OneDrive\\\\Ambiente de Trabalho\\\\Dapp\\\\Editor\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\pedro\\\\OneDrive\\\\Ambiente de Trabalho\\\\Dapp\\\\Editor\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\pedro\\\\OneDrive\\\\Ambiente de Trabalho\\\\Dapp\\\\Editor\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\pedro\\\\OneDrive\\\\Ambiente de Trabalho\\\\Dapp\\\\Editor\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\pedro\\\\OneDrive\\\\Ambiente de Trabalho\\\\Dapp\\\\Editor\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\pedro\\\\OneDrive\\\\Ambiente de Trabalho\\\\Dapp\\\\Editor\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\pedro\\\\OneDrive\\\\Ambiente de Trabalho\\\\Dapp\\\\Editor\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import SimpleStorageContract from\"./contracts/SimpleStorage.json\";import getWeb3 from\"./getWeb3\";import\"./App.css\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={storageValue:0,web3:null,accounts:null,contract:null};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var web3,accounts,networkId,deployedNetwork,instance;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getWeb3();case 3:web3=_context.sent;_context.next=6;return web3.eth.getAccounts();case 6:accounts=_context.sent;_context.next=9;return web3.eth.net.getId();case 9:networkId=_context.sent;deployedNetwork=SimpleStorageContract.networks[networkId];instance=new web3.eth.Contract(SimpleStorageContract.abi,deployedNetwork&&deployedNetwork.address);// Set web3, accounts, and contract to the state, and then proceed with an\n// example of interacting with the contract's methods.\n_this.setState({web3:web3,accounts:accounts,contract:instance},_this.runExample);_context.next=19;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);// Catch any errors for any of the above operations.\nalert(\"Failed to load web3, accounts, or contract. Check console for details.\");console.error(_context.t0);case 19:case\"end\":return _context.stop();}}},_callee,null,[[0,15]]);}));_this.runExample=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state,accounts,contract,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state=_this.state,accounts=_this$state.accounts,contract=_this$state.contract;// Stores a given value, 5 by default.\n_context2.next=3;return contract.methods.set(5).send({from:accounts[0]});case 3:_context2.next=5;return contract.methods.get().call();case 5:response=_context2.sent;// Update state with the result.\n_this.setState({storageValue:response});case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _this;}_createClass(App,[{key:\"render\",value:function render(){if(!this.state.web3){return React.createElement(\"div\",null,\"Loading Web3, accounts, and contract...\");}return React.createElement(\"div\",{className:\"App\"},React.createElement(\"h1\",null,\"Good to Go!\"),React.createElement(\"p\",null,\"Your Truffle Box is installed and ready.\"),React.createElement(\"h2\",null,\"Smart Contract Example\"),React.createElement(\"p\",null,\"If your contracts compiled and migrated successfully, below will show a stored value of 5 (by default).\"),React.createElement(\"p\",null,\"Try changing the value stored on \",React.createElement(\"strong\",null,\"line 42\"),\" of App.js.\"),React.createElement(\"div\",null,\"The stored value is: \",this.state.storageValue));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/pedro/OneDrive/Ambiente de Trabalho/Dapp/Editor/client/src/App.js"],"names":["React","Component","SimpleStorageContract","getWeb3","App","state","storageValue","web3","accounts","contract","componentDidMount","eth","getAccounts","net","getId","networkId","deployedNetwork","networks","instance","Contract","abi","address","setState","runExample","alert","console","error","methods","set","send","from","get","call","response"],"mappings":"+kCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,gCAAlC,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA,MAAO,WAAP,C,GAEMC,CAAAA,G,mXACJC,K,CAAQ,CAAEC,YAAY,CAAE,CAAhB,CAAmBC,IAAI,CAAE,IAAzB,CAA+BC,QAAQ,CAAE,IAAzC,CAA+CC,QAAQ,CAAE,IAAzD,C,OAERC,iB,sEAAoB,8NAGGP,CAAAA,OAAO,EAHV,QAGVI,IAHU,qCAMOA,CAAAA,IAAI,CAACI,GAAL,CAASC,WAAT,EANP,QAMVJ,QANU,qCASQD,CAAAA,IAAI,CAACI,GAAL,CAASE,GAAT,CAAaC,KAAb,EATR,QASVC,SATU,eAUVC,eAVU,CAUQd,qBAAqB,CAACe,QAAtB,CAA+BF,SAA/B,CAVR,CAWVG,QAXU,CAWC,GAAIX,CAAAA,IAAI,CAACI,GAAL,CAASQ,QAAb,CACfjB,qBAAqB,CAACkB,GADP,CAEfJ,eAAe,EAAIA,eAAe,CAACK,OAFpB,CAXD,CAgBhB;AACA;AACA,MAAKC,QAAL,CAAc,CAAEf,IAAI,CAAJA,IAAF,CAAQC,QAAQ,CAARA,QAAR,CAAkBC,QAAQ,CAAES,QAA5B,CAAd,CAAsD,MAAKK,UAA3D,EAlBgB,iFAoBhB;AACAC,KAAK,0EAAL,CAGAC,OAAO,CAACC,KAAR,cAxBgB,qE,SA4BpBH,U,sEAAa,+LACoB,MAAKlB,KADzB,CACHG,QADG,aACHA,QADG,CACOC,QADP,aACOA,QADP,CAGX;AAHW,uBAILA,CAAAA,QAAQ,CAACkB,OAAT,CAAiBC,GAAjB,CAAqB,CAArB,EAAwBC,IAAxB,CAA6B,CAAEC,IAAI,CAAEtB,QAAQ,CAAC,CAAD,CAAhB,CAA7B,CAJK,+BAOYC,CAAAA,QAAQ,CAACkB,OAAT,CAAiBI,GAAjB,GAAuBC,IAAvB,EAPZ,QAOLC,QAPK,gBASX;AACA,MAAKX,QAAL,CAAc,CAAEhB,YAAY,CAAE2B,QAAhB,CAAd,EAVW,wD,wEAaJ,CACP,GAAI,CAAC,KAAK5B,KAAL,CAAWE,IAAhB,CAAsB,CACpB,MAAO,0EAAP,CACD,CACD,MACE,4BAAK,SAAS,CAAC,KAAf,EACE,4CADF,CAEE,wEAFF,CAGE,uDAHF,CAIE,uIAJF,CAQE,iEACmC,4CADnC,eARF,CAWE,uDAA2B,KAAKF,KAAL,CAAWC,YAAtC,CAXF,CADF,CAeD,C,iBA/DeL,S,EAkElB,cAAeG,CAAAA,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport SimpleStorageContract from \"./contracts/SimpleStorage.json\";\nimport getWeb3 from \"./getWeb3\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n  state = { storageValue: 0, web3: null, accounts: null, contract: null };\n\n  componentDidMount = async () => {\n    try {\n      // Get network provider and web3 instance.\n      const web3 = await getWeb3();\n\n      // Use web3 to get the user's accounts.\n      const accounts = await web3.eth.getAccounts();\n\n      // Get the contract instance.\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = SimpleStorageContract.networks[networkId];\n      const instance = new web3.eth.Contract(\n        SimpleStorageContract.abi,\n        deployedNetwork && deployedNetwork.address,\n      );\n\n      // Set web3, accounts, and contract to the state, and then proceed with an\n      // example of interacting with the contract's methods.\n      this.setState({ web3, accounts, contract: instance }, this.runExample);\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(\n        `Failed to load web3, accounts, or contract. Check console for details.`,\n      );\n      console.error(error);\n    }\n  };\n\n  runExample = async () => {\n    const { accounts, contract } = this.state;\n\n    // Stores a given value, 5 by default.\n    await contract.methods.set(5).send({ from: accounts[0] });\n\n    // Get the value from the contract to prove it worked.\n    const response = await contract.methods.get().call();\n\n    // Update state with the result.\n    this.setState({ storageValue: response });\n  };\n\n  render() {\n    if (!this.state.web3) {\n      return <div>Loading Web3, accounts, and contract...</div>;\n    }\n    return (\n      <div className=\"App\">\n        <h1>Good to Go!</h1>\n        <p>Your Truffle Box is installed and ready.</p>\n        <h2>Smart Contract Example</h2>\n        <p>\n          If your contracts compiled and migrated successfully, below will show\n          a stored value of 5 (by default).\n        </p>\n        <p>\n          Try changing the value stored on <strong>line 42</strong> of App.js.\n        </p>\n        <div>The stored value is: {this.state.storageValue}</div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}